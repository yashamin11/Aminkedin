{"ast":null,"code":"var _jsxFileName = \"/home/yash/2019101071/frontend/src/components/ViewApplications.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios'; // import \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport Button from 'react-bootstrap/Button';\nexport default class ViewApplications extends Component {\n  constructor(props) {\n    super(props);\n    this.applicationsuccess = this.applicationsuccess;\n    this.applicationreject = this.applicationreject;\n\n    this.sortbyName = () => {\n      let listings = this.state.listings,\n          n = listings.length;\n\n      for (var i = 0; i < n - 1; i++) {\n        for (var j = 0; j < n - 1; j++) {\n          const left = listings[j].applicant.username;\n          const left2 = listings[j + 1].applicant.username;\n\n          if (left > left2) {\n            var temp = listings[j];\n            listings[j] = listings[j + 1];\n            listings[j + 1] = temp;\n          }\n        }\n      }\n\n      this.setState({\n        listings: listings\n      });\n    };\n\n    this.sortbydecName = () => {\n      let listings = this.state.listings,\n          n = listings.length;\n\n      for (var i = 0; i < n - 1; i++) {\n        for (var j = 0; j < n - 1; j++) {\n          const left = listings[j].applicant.username;\n          const left2 = listings[j + 1].applicant.username;\n\n          if (left < left2) {\n            var temp = listings[j];\n            listings[j] = listings[j + 1];\n            listings[j + 1] = temp;\n          }\n        }\n      }\n\n      this.setState({\n        listings: listings\n      });\n    };\n\n    this.sortbyRating = () => {\n      let listings = this.state.listings,\n          n = listings.length;\n\n      for (var i = 0; i < n - 1; i++) {\n        for (var j = 0; j < n - 1; j++) {\n          var left = listings[j].applicant.rating;\n          var left2 = listings[j + 1].applicant.rating;\n\n          if (left > left2) {\n            var temp = listings[j];\n            listings[j] = listings[j + 1];\n            listings[j + 1] = temp;\n          }\n        }\n      }\n\n      this.setState({\n        listings: listings\n      });\n    };\n\n    this.sortbydecRating = () => {\n      let listings = this.state.listings,\n          n = listings.length;\n\n      for (var i = 0; i < n - 1; i++) {\n        for (var j = 0; j < n - 1; j++) {\n          var left = listings[j].applicant.rating;\n          var left2 = listings[j + 1].applicant.rating;\n\n          if (left < left2) {\n            var temp = listings[j];\n            listings[j] = listings[j + 1];\n            listings[j + 1] = temp;\n          }\n        }\n      }\n\n      this.setState({\n        listings: listings\n      });\n    };\n\n    this.sortbyDate = () => {\n      let listings = this.state.listings,\n          n = listings.length;\n\n      for (var i = 0; i < n - 1; i++) {\n        console.log(\"hey\");\n\n        for (var j = 0; j < n - 1; j++) {\n          var left = listings[j].date_of_application;\n          var left2 = listings[j + 1].date_of_application;\n\n          if (left > left2) {\n            var temp = listings[j];\n            listings[j] = listings[j + 1];\n            listings[j + 1] = temp;\n          }\n        }\n      }\n\n      this.setState({\n        listings: listings\n      });\n    };\n\n    this.sortbydecDate = () => {\n      let listings = this.state.listings,\n          n = listings.length;\n\n      for (var i = 0; i < n - 1; i++) {\n        console.log(\"hey\");\n\n        for (var j = 0; j < n - 1; j++) {\n          var left = listings[j].date_of_application;\n          var left2 = listings[j + 1].date_of_application;\n\n          if (left < left2) {\n            var temp = listings[j];\n            listings[j] = listings[j + 1];\n            listings[j + 1] = temp;\n          }\n        }\n      }\n\n      this.setState({\n        listings: listings\n      });\n    };\n\n    this.applicationsuccess = this.applicationsuccess.bind(this);\n    this.applicationreject = this.applicationreject.bind(this);\n    this.state = {\n      listings: [],\n      id: this.props.location.state.id,\n      title: this.props.location.state.title\n    };\n  }\n\n  applicationsuccess(id) {\n    let token = localStorage.getItem('token');\n    console.log(token);\n    const Application = {\n      id: id\n    };\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': token\n    };\n    axios.post('http://localhost:4000/api/application/success', Application, {\n      headers: headers\n    }).then(response => {\n      alert(response.data.message);\n      console.log(response.data);\n    }).catch(err => {\n      console.log(\"yo\");\n      if (err.response.data.message) alert(err.response.data.message);\n      console.log(err);\n    });\n    window.location.reload();\n  }\n\n  applicationreject(id) {\n    let token = localStorage.getItem('token');\n    console.log(token);\n    const Application = {\n      id: id\n    };\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': token\n    };\n    axios.post('http://localhost:4000/api/application/reject', Application, {\n      headers: headers\n    }).then(response => {\n      console.log(response.data);\n    }).catch(err => {\n      if (err.response.data.message) alert(err.response.data.message);\n      console.log(err);\n    });\n    window.location.reload();\n  }\n\n  componentDidMount() {\n    let token = localStorage.getItem('token');\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': token\n    };\n    const Job = {\n      title: this.state.title,\n      id: this.state.id\n    };\n    console.log(Job);\n    axios.post('http://localhost:4000/api/job/applications', Job, {\n      headers: headers\n    }).then(response => {\n      console.log(response.data);\n      this.setState({\n        listings: response.data\n      });\n    }).catch(function (error) {\n      if (error.response.data.message) alert(error.response.data.message);\n      console.log(error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"sm\",\n      variant: \"info\",\n      onClick: this.sortbyName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, \"Increasing Name\"), \" \\xA0\", React.createElement(Button, {\n      size: \"sm\",\n      variant: \"info\",\n      onClick: this.sortbyDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"Increasing Date of Application\"), \" \\xA0\", React.createElement(Button, {\n      size: \"sm\",\n      variant: \"info\",\n      onClick: this.sortbyRating,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"Increasing Rating\"), \" \\xA0\", React.createElement(Button, {\n      size: \"sm\",\n      variant: \"info\",\n      onClick: this.sortbydecName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"Decreasing Name\"), \" \\xA0\", React.createElement(Button, {\n      size: \"sm\",\n      variant: \"info\",\n      onClick: this.sortbydecDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"Decreasing Date of Application\"), \" \\xA0\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }), React.createElement(Button, {\n      size: \"sm\",\n      variant: \"info\",\n      onClick: this.sortbydecRating,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, \"Decreasing Rating\"), \" \\xA0\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }), React.createElement(\"table\", {\n      className: \"table table-striped\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \"SOP\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"Stage\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \"Date of Application\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, \"Applicant's Rating\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Action\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"Action\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, this.state.listings.map((application, i) => {\n      let status = null;\n      if (application.status == \"Applied\") status = 'Shortlist';else if (application.status == \"Shortlisted\") status = 'Accept';\n      return React.createElement(\"tr\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, application.applicant.username), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, application.sop, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, application.status), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, application.date_of_application), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, application.applicant.rating), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"success\",\n        onClick: () => {\n          this.applicationsuccess(application._id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, status), \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"danger\",\n        onClick: () => {\n          this.applicationreject(application._id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, \"Reject\")));\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/yash/2019101071/frontend/src/components/ViewApplications.js"],"names":["React","Component","axios","BrowserRouter","Router","Route","Link","Button","ViewApplications","constructor","props","applicationsuccess","applicationreject","sortbyName","listings","state","n","length","i","j","left","applicant","username","left2","temp","setState","sortbydecName","sortbyRating","rating","sortbydecRating","sortbyDate","console","log","date_of_application","sortbydecDate","bind","id","location","title","token","localStorage","getItem","Application","headers","post","then","response","alert","data","message","catch","err","window","reload","componentDidMount","Job","error","render","map","application","status","sop","_id"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\n// import \"bootstrap/dist/css/bootstrap.min.css\";\nimport { BrowserRouter as Router, Route, Link} from \"react-router-dom\";\nimport Button from 'react-bootstrap/Button'\n\nexport default class ViewApplications extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.applicationsuccess = this.applicationsuccess.bind(this);\n        this.applicationreject = this.applicationreject.bind(this);\n        this.state = {\n            listings: [],\n            id: this.props.location.state.id,\n            title: this.props.location.state.title,\n          \n        }\n    }\n\n\n \n    applicationsuccess = this.applicationsuccess;\n\n    applicationsuccess(id) {\n        let token = localStorage.getItem('token');\n        console.log(token);\n        const Application = {\n            id: id,\n        }\n        const headers = {\n            'Content-Type': 'application/json',\n            'Authorization': token\n        }    \n        axios.post('http://localhost:4000/api/application/success',Application, {headers: headers})\n            .then(response => {\n                alert(response.data.message);\n                 console.log(response.data)\n                })\n            .catch(err => {\n                console.log(\"yo\");\n                if(err.response.data.message)\n             alert(err.response.data.message);\n                console.log(err)});\n    \n        window.location.reload();\n    \n    }\n    applicationreject = this.applicationreject;\n\n    applicationreject(id) {\n        let token = localStorage.getItem('token');\n        console.log(token);\n        const Application = {\n            id: id,\n        }\n        const headers = {\n            'Content-Type': 'application/json',\n            'Authorization': token\n        }    \n        axios.post('http://localhost:4000/api/application/reject',Application, {headers: headers})\n            .then(response => { \n                console.log(response.data)\n                \n            })\n            .catch(err => {\n                if(err.response.data.message)\n                    alert(err.response.data.message);\n                console.log(err)});\n    \n        window.location.reload();\n    \n\n    }\n    sortbyName = () =>{\n        let listings = this.state.listings, n = listings.length;\n        for(var i=0; i < n-1; i++)\n        {\n            for(var j=0; j < n-1; j++)\n            {\n                const left = listings[j].applicant.username;\n                const left2 = listings[j+1].applicant.username;\n                if(left > left2)\n                {\n                    var temp = listings[j];\n                    listings[j] = listings[j+1];\n                    listings[j+1] = temp;\n                }\n            }\n        }\n        this.setState({listings: listings});\n    }\n    sortbydecName = () =>{\n        let listings = this.state.listings, n = listings.length;\n        for(var i=0; i < n-1; i++)\n        {\n            for(var j=0; j < n-1; j++)\n            {\n                const left = listings[j].applicant.username;\n                const left2 = listings[j+1].applicant.username;\n                if(left < left2)\n                {\n                    var temp = listings[j];\n                    listings[j] = listings[j+1];\n                    listings[j+1] = temp;\n                }\n            }\n        }\n        this.setState({listings: listings});\n    }\n\n    sortbyRating = () =>{\n        let listings = this.state.listings, n = listings.length;\n        for(var i=0; i < n-1; i++)\n        {\n            for(var j=0; j < n-1; j++)\n            {\n                var left = listings[j].applicant.rating;\n                var left2 = listings[j+1].applicant.rating;\n               \n                if(left > left2)\n                {\n                    var temp = listings[j];\n                    listings[j] = listings[j+1];\n                    listings[j+1] = temp;\n                }\n            }\n        }\n        this.setState({listings: listings});\n    }\n    sortbydecRating = () =>{\n        let listings = this.state.listings, n = listings.length;\n        for(var i=0; i < n-1; i++)\n        {\n            for(var j=0; j < n-1; j++)\n            {\n                var left = listings[j].applicant.rating;\n                var left2 = listings[j+1].applicant.rating;\n               \n                if(left < left2)\n                {\n                    var temp = listings[j];\n                    listings[j] = listings[j+1];\n                    listings[j+1] = temp;\n                }\n            }\n        }\n        this.setState({listings: listings});\n    }\n    sortbyDate = () =>{\n        let listings = this.state.listings, n = listings.length;\n        for(var i=0; i < n-1; i++)\n        {\n            console.log(\"hey\");\n            for(var j=0; j < n-1; j++)\n            {\n                var left = listings[j].date_of_application;\n                var left2 = listings[j+1].date_of_application;\n                \n                if(left > left2)\n                {\n                    var temp = listings[j];\n                    listings[j] = listings[j+1];\n                    listings[j+1] = temp;\n                }\n            }\n        }\n        this.setState({listings: listings});\n    }\n    sortbydecDate = () =>{\n        let listings = this.state.listings, n = listings.length;\n        for(var i=0; i < n-1; i++)\n        {\n            console.log(\"hey\");\n            for(var j=0; j < n-1; j++)\n            {\n                var left = listings[j].date_of_application;\n                var left2 = listings[j+1].date_of_application;\n                \n                if(left < left2)\n                {\n                    var temp = listings[j];\n                    listings[j] = listings[j+1];\n                    listings[j+1] = temp;\n                }\n            }\n        }\n        this.setState({listings: listings});\n    }\n    componentDidMount() {\n        let token = localStorage.getItem('token');\n        const headers = {\n            'Content-Type': 'application/json',\n            'Authorization': token\n        }   \n        const Job = {\n            title: this.state.title,     \n            id:  this.state.id,\n        }\n        console.log(Job);\n\n        axios.post('http://localhost:4000/api/job/applications',Job,{ headers: headers} )\n             .then(response => {\n                console.log(response.data)\n                this.setState({listings: response.data});\n             })\n             .catch(function(error) {\n                if(error.response.data.message)\n                alert(error.response.data.message);\n                 console.log(error);\n             })\n    }\n   \n\n    render() {\n        return (\n            <div>\n                <Button size='sm' variant=\"info\" onClick={this.sortbyName} >Increasing Name</Button> &nbsp; \n                <Button size='sm' variant=\"info\" onClick={this.sortbyDate} >Increasing Date of Application</Button> &nbsp; \n                <Button size='sm' variant=\"info\" onClick={this.sortbyRating} >Increasing Rating</Button> &nbsp;\n                <Button size='sm' variant=\"info\" onClick={this.sortbydecName} >Decreasing Name</Button> &nbsp; \n                <Button size='sm' variant=\"info\" onClick={this.sortbydecDate} >Decreasing Date of Application</Button> &nbsp; \n                <br></br><br></br>\n                <Button size='sm' variant=\"info\" onClick={this.sortbydecRating} >Decreasing Rating</Button> &nbsp; \n                <br></br><br></br>\n                <table className=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            <th>Name</th>\n                            <th>SOP</th>\n                            <th>Stage</th>\n                            <th>Date of Application</th>\n                            <th>Applicant's Rating</th>\n                            <th>Action</th>\n                            <th>Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    { \n                        this.state.listings.map((application, i) => {\n                            \n                           let  status = null;\n                            if(application.status==\"Applied\")\n                                status='Shortlist';\n                            else if(application.status==\"Shortlisted\")\n                                status='Accept';\n                           \n                            return (\n                                <tr key={i}>\n                                    <td>{application.applicant.username}</td>\n                                    <td>{application.sop} </td>\n                                    <td>{application.status}</td>\n                                    <td>{application.date_of_application}</td>\n                                    <td>{application.applicant.rating}</td>\n                                   \n                                    <td><Button  variant=\"success\" onClick={() => {this.applicationsuccess(application._id) }}>{status}</Button> </td> \n                                   <td><Button variant=\"danger\" onClick={() => {this.applicationreject(application._id) }}>Reject</Button></td>\n                                    \n                                </tr>\n                            )\n\n                        })\n                    }\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}