{"ast":null,"code":"var _jsxFileName = \"/home/yash/2019101071/frontend/src/components/SOP.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios'; // import CustomerNavbar from \"./user-navbar.component\"\n\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport Button from 'react-bootstrap/Button';\nexport default class ApplyJob extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sop: '',\n      id: this.props.location.state.id // recruiter: this.props.location.state.name,\n\n    };\n    this.onChangeSop = this.onChangeSop.bind(this);\n  }\n\n  onChangeSop(event) {\n    this.setState({\n      sop: event.target.value\n    });\n  }\n\n  ApplyJob(id) {\n    let token = localStorage.getItem('token');\n    console.log(token);\n    const application = {\n      job: id,\n      sop: this.state.sop\n    };\n    console.log(application);\n    const headers = {\n      'Content-Type': 'application/json',\n      'Authorization': token\n    };\n    axios.post('http://localhost:4000/api/apply', application, {\n      headers: headers\n    }).then(response => {\n      alert(\"Applied for the Job!!\");\n      console.log(response.data);\n    }).catch(err => {\n      if (err.response.data.message) alert(err.response.data.message);\n      console.log(err.response); // this.props.history.push(\"/\");\n      // window.location.reload();\n    });\n    this.setState({\n      sop: ''\n    }); // window.location.reload();\n  }\n\n  render() {\n    // let recruiter = this.state.recruiter;\n    // console.log(recruiter);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"SOP (Statement of Purpose)\"), React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      maxlength: \"250\",\n      value: this.state.sop,\n      onChange: this.onChangeSop,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"success\",\n      onClick: () => {\n        this.ApplyJob(this.state.id);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n}","map":{"version":3,"sources":["/home/yash/2019101071/frontend/src/components/SOP.js"],"names":["React","Component","axios","BrowserRouter","Router","Route","Link","Button","ApplyJob","constructor","props","state","sop","id","location","onChangeSop","bind","event","setState","target","value","token","localStorage","getItem","console","log","application","job","headers","post","then","response","alert","data","catch","err","message","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,EAAyCC,IAAzC,QAAoD,kBAApD;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AAEA,eAAe,MAAMC,QAAN,SAAuBP,SAAvB,CAAiC;AAE5CQ,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,GAAG,EAAE,EADI;AAETC,MAAAA,EAAE,EAAE,KAAKH,KAAL,CAAWI,QAAX,CAAoBH,KAApB,CAA0BE,EAFrB,CAGT;;AAHS,KAAb;AAKA,SAAKE,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACH;;AACDD,EAAAA,WAAW,CAACE,KAAD,EAAQ;AACf,SAAKC,QAAL,CAAc;AAAEN,MAAAA,GAAG,EAAEK,KAAK,CAACE,MAAN,CAAaC;AAApB,KAAd;AACH;;AAEDZ,EAAAA,QAAQ,CAACK,EAAD,EAAK;AACT,QAAIQ,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AACA,UAAMK,WAAW,GAAG;AAChBC,MAAAA,GAAG,EAAEd,EADW;AAEhBD,MAAAA,GAAG,EAAE,KAAKD,KAAL,CAAWC;AAFA,KAApB;AAIAY,IAAAA,OAAO,CAACC,GAAR,CAAYC,WAAZ;AACA,UAAME,OAAO,GAAG;AACZ,sBAAgB,kBADJ;AAEZ,uBAAiBP;AAFL,KAAhB;AAIAnB,IAAAA,KAAK,CAAC2B,IAAN,CAAW,iCAAX,EAA6CH,WAA7C,EAA0D;AAACE,MAAAA,OAAO,EAAEA;AAAV,KAA1D,EACGE,IADH,CACQC,QAAQ,IAAI;AACdC,MAAAA,KAAK,CAAC,uBAAD,CAAL;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAYM,QAAQ,CAACE,IAArB;AAA2B,KAHjC,EAIOC,KAJP,CAIaC,GAAG,IAAI;AACZ,UAAGA,GAAG,CAACJ,QAAJ,CAAaE,IAAb,CAAkBG,OAArB,EACIJ,KAAK,CAACG,GAAG,CAACJ,QAAJ,CAAaE,IAAb,CAAkBG,OAAnB,CAAL;AACJZ,MAAAA,OAAO,CAACC,GAAR,CAAYU,GAAG,CAACJ,QAAhB,EAHY,CAIZ;AACA;AACH,KAVL;AAYA,SAAKb,QAAL,CAAc;AACZN,MAAAA,GAAG,EAAC;AADQ,KAAd,EAxBS,CA4BT;AACH;;AAEDyB,EAAAA,MAAM,GAAG;AACL;AACA;AACA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADJ,EAEI;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,IAAI,EAAC,MAAtC;AAA6C,MAAA,SAAS,EAAC,KAAvD;AAA6D,MAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWC,GAA/E;AAAoF,MAAA,QAAQ,EAAE,KAAKG,WAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,OAAO,EAAE,MAAM;AAAC,aAAKP,QAAL,CAAc,KAAKG,KAAL,CAAWE,EAAzB;AAA8B,OAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAJ,CAJJ,CADJ;AAQH;;AA1D2C","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\n// import CustomerNavbar from \"./user-navbar.component\"\nimport { BrowserRouter as Router, Route, Link} from \"react-router-dom\";\nimport Button from 'react-bootstrap/Button'\n\nexport default class ApplyJob extends Component {\n    \n    constructor(props) {\n        super(props);\n\n        this.state = {\n            sop: '',\n            id: this.props.location.state.id,\n            // recruiter: this.props.location.state.name,\n        }\n        this.onChangeSop = this.onChangeSop.bind(this);\n    }\n    onChangeSop(event) {\n        this.setState({ sop: event.target.value });\n    }\n\n    ApplyJob(id) {\n        let token = localStorage.getItem('token');\n        console.log(token);\n        const application = {\n            job: id,\n            sop: this.state.sop\n        }\n        console.log(application);\n        const headers = {\n            'Content-Type': 'application/json',\n            'Authorization': token\n        }    \n        axios.post('http://localhost:4000/api/apply',application, {headers: headers})\n          .then(response => { \n              alert(\"Applied for the Job!!\");\n              console.log(response.data)})\n              .catch(err => {\n                if(err.response.data.message)\n                    alert(err.response.data.message);\n                console.log(err.response);\n                // this.props.history.push(\"/\");\n                // window.location.reload();\n            });\n    \n        this.setState({\n          sop:'',  \n        })\n\n        // window.location.reload();\n    }\n\n    render() {\n        // let recruiter = this.state.recruiter;\n        // console.log(recruiter);\n        return (\n            <div>\n                <label>SOP (Statement of Purpose)</label>\n                <input  className=\"form-control\" type=\"text\" maxlength=\"250\" value={this.state.sop} onChange={this.onChangeSop}/>\n                <br></br>\n                <td><Button variant=\"success\" onClick={() => {this.ApplyJob(this.state.id) }}>Submit</Button></td>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}